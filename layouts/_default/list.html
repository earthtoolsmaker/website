{{ define "main" }}

{{ if (eq .Section "tags") }}

<!-- begin page-wrapper -->
<div class="page-wrapper">

  <div class="tags__inner">

    <div class="container">
      <div class="page-wrapper__info">
        <div class="tag-counter">{{ len .Pages }} {{ if lt (len .Pages) 2 }}Post{{ else }}Posts{{ end }}</div>
        <h2 class="page-info__title">{{ humanize .Title }}</h2>
      </div>
    </div>
  
    <div class="container">
      <div class="row">
        {{ range .Data.Pages }}
          {{ partial "article.html" . }}
        {{ end }}
      </div>
    </div>

  </div>

  {{ partial "section-tags.html" . }}

</div>
<!-- end page-wrapper -->

{{ else }}

{{ if .Params.Image }}
<!-- begin hero image -->
<div class="hero__image">
  <div class="hero__image__inner">
    {{ $imgPath := strings.TrimPrefix "/" .Params.Image }}
    {{ partial "responsive-image.html" (dict
      "src" $imgPath
      "alt" .Title
      "sizes" "100vw"
      "widths" (slice 600 900 1200)
      "lazy" true
      "lqip" true
    ) }}
  </div>
</div>
<!-- end hero image -->
{{ end }}

<!-- begin page-wrapper -->
<div class="page-wrapper">

  <div class="container">
    <div class="page-wrapper__info">
      {{ if .Title }}
      <h1 class="page-info__title">{{ .Title }}</h1>
      {{ end }}
      {{ if .Description }}
      <p class="page-info__description">{{ .Description }}</p>
      {{ end }}
    </div>
  </div>

  <div class="container">
    <div class="row">
      {{ range where .Site.RegularPages "Type" "posts" }}
        {{ partial "article" . }}
      {{ end }}
    </div>
  </div>

</div>
<!-- end page-wrapper -->

{{ end }}

{{ end }}